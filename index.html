<!DOCTYPE html>
{% autoescape true %}
<html>

  <head>
    <title>Miniramp v0.1</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  </head>

  <body>
    
    <script>
    // TODO -- completely redo this using semantic forms
    // also loading indicator
      $(document).on('ready', function() {

        $('#submitButton').click(function() {

          var artist = $('#artistName').val();
          var textArtist= $('<div></div>').text(artist);
          $('#appendLog').append(textArtist);

          var url = '/recommender/' + textArtist.text();
          console.log('URL: ' + url)
          $.get(url, function(data){
            console.log(data)
            for (var i = 0; i < data.length; i++)
              $('#appendLog').append(data[i]['username']);
          });
        });
      });
    </script>

    Artist username: <input type="text" id="artistName">
    <button id="submitButton">Submit</button>

    <div id="appendLog">
    </div>

  </body>
  
</html>
{% endautoescape %}